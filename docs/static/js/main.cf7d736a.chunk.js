(this["webpackJsonpdudy-fit"]=this["webpackJsonpdudy-fit"]||[]).push([[0],{43:function(e){e.exports=JSON.parse('[{"id":1,"name":"q","impReputation":2.6},{"id":2,"name":"r","impReputation":3.7},{"id":3,"name":"s","impReputation":8.5},{"id":4,"name":"t","impReputation":9.7},{"id":5,"name":"u","impReputation":2.6},{"id":6,"name":"v","impReputation":4.7},{"id":7,"name":"w","impReputation":5.6},{"id":8,"name":"x","impReputation":3.7},{"id":9,"name":"y","impReputation":8.1},{"id":10,"name":"z","impReputation":2.5}]')},63:function(e){e.exports=JSON.parse('[{"id":1,"name":"A","reputation":4.5,"places":1},{"id":2,"name":"B","reputation":3.2,"places":4},{"id":3,"name":"C","reputation":1.2,"places":3},{"id":4,"name":"D","reputation":3.4,"places":2}]')},70:function(e,a,t){},84:function(e,a,t){"use strict";t.r(a);var n=t(0),i=t(18),r=t.n(i),s=t(24),c=t(9),l=(t(70),t(95)),o=t(63),d=t(43),j=t(28),u=t(90),b=t(60),m=t(102),p=t(99),h=t(89),O=t(64),f=t(1);var x=function(e){return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(h.a,{children:[Object(f.jsxs)(O.a,{children:["Nombre cliente: ",e.client.name]}),Object(f.jsxs)(O.a,{children:["Importancia reputaci\xf3n: ",e.client.impReputation]})]})})};var v=function(e){var a=e.clients.map((function(e,a){return Object(f.jsx)(m.a.Item,{children:Object(f.jsx)(x,{client:e})},a)}));return Object(f.jsxs)(p.a,Object(b.a)(Object(b.a)({},e),{},{animation:!1,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(f.jsx)(p.a.Header,{closeButton:!0,children:Object(f.jsx)(p.a.Title,{id:"contained-modal-title-vcenter",children:"Tabla de clientes"})}),Object(f.jsx)(p.a.Body,{children:Object(f.jsx)(m.a,{variant:"flush",children:a})}),Object(f.jsx)(p.a.Footer,{children:Object(f.jsx)(u.a,{onClick:e.onHide,children:"Salir"})})]}))};var g=function(e){var a=Object(n.useState)(!1),t=Object(s.a)(a,2),i=t[0],r=t[1];return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(u.a,{variant:"outline-primary",size:"sm",className:"float-right button",onClick:function(){return r(!0)},children:"Ver tabla de clientes"}),Object(f.jsx)(v,{show:i,onHide:function(){return r(!1)},clients:e.clients})]})},N=t(100),y=t(91);var S=function(e){var a=Object(n.useState)(!1),t=Object(s.a)(a,2),i=t[0],r=t[1],c=e.clients.map((function(e,a){return Object(f.jsx)("option",{children:a+1},a)})),l=function(a){var t=a.currentTarget.value,n=e.index,i=a.currentTarget.id;"reputation"===i&&(!t||isNaN(t)||t>5||t<0?(r(!0),t<0?t=0:t>5&&(t=5)):r(!1)),e.handleForm(t,n,i)};return Object(f.jsxs)("div",{className:"table-trainer",children:[Object(f.jsxs)("p",{children:["Entrenador ",e.trainer.id]}),Object(f.jsxs)(N.a,{inline:!0,children:[Object(f.jsx)(N.a.Label,{className:"my-1 mr-2",htmlFor:"name",children:"Nombre"}),Object(f.jsx)(N.a.Control,{size:"sm",className:"my-1 mr-sm-2",id:"name",placeholder:"Nombre",defaultValue:e.trainer.name,onChange:l}),Object(f.jsx)(N.a.Label,{className:"my-1 mr-2",htmlFor:"valoration",children:"Valoraci\xf3n"}),Object(f.jsx)(N.a.Control,{size:"sm",className:"my-1 mr-sm-2",id:"reputation",placeholder:"Valoraci\xf3n",defaultValue:e.trainer.reputation,onChange:l}),i?Object(f.jsx)(y.a,{className:"alert mb-0",variant:"danger",children:"Por favor, escribe n\xfameros del 0 al 5"}):"",Object(f.jsx)(N.a.Label,{className:"my-1 mr-2",htmlFor:"inlineFormCustomSelectPref",children:"N\xfamero m\xe1ximo de clientes"}),Object(f.jsx)(N.a.Control,{id:"places",as:"select",size:"sm",custom:!0,defaultValue:e.trainer.places,onChange:l,children:c})]})]})};var F=function(e){var a=function(a,t,n){e.handleShownTrainers(a,t,n)},t=e.shownTrainers.map((function(t,n){return Object(f.jsx)(m.a.Item,{children:Object(f.jsx)(S,{trainer:t,clients:e.clients,index:n,handleForm:a})},t.id)}));return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(m.a,{variant:"flush",children:t}),Object(f.jsx)(j.b,{to:"/results",className:"btn-sm btn-primary float-right button",children:"Calcular Resultados"}),Object(f.jsx)(g,{clients:e.clients})]})},J=t(101),R=t(97),T=t(103),C=t(98),V=t(92),w=t(93),k=t.p+"static/media/foto.9a98e9d2.jpg";var z=function(e){var a=0,t=e.clientstrainer.map((function(t,n){return t.trainerName===e.trainer.name?(a+=1,Object(f.jsxs)("span",{children:["- ",t.clientName," ",Object(f.jsx)("br",{})]},n)):null}));return Object(f.jsxs)(T.a,{children:[Object(f.jsxs)(T.a.Header,{children:["Entrenador ",e.index,Object(f.jsx)(C.a,{placement:"bottom",overlay:Object(f.jsxs)(V.a,{id:"tooltip-bottom",className:"tooltip",children:[Object(f.jsxs)("strong",{children:["Valoraci\xf3n: ",e.trainer.reputation]}),Object(f.jsx)("br",{}),Object(f.jsxs)("strong",{children:["Max clientes: ",e.trainer.places]})]}),children:Object(f.jsx)(u.a,{className:"float-right btn-circle",variant:"dark",children:"i"})})]}),Object(f.jsx)(T.a.Body,{children:Object(f.jsxs)(h.a,{children:[Object(f.jsx)(O.a,{xs:3,md:2,children:Object(f.jsx)(w.a,{src:k,width:40,height:40,roundedCircle:!0})}),Object(f.jsxs)(O.a,{children:[Object(f.jsx)(T.a.Title,{children:e.trainer.name}),Object(f.jsxs)(T.a.Text,{children:["Clientes asignados: ",Object(f.jsx)("br",{}),0===a?"No se han asignado clientes":t]})]})]})}),Object(f.jsxs)(T.a.Footer,{children:[a," clientes asignados"]})]})},E=t(94);var I=function(e){var a=JSON.parse(JSON.stringify(e.clients)),t=JSON.parse(JSON.stringify(e.trainers)),n=[];a.sort((function(e,a){return e.impReputation-a.impReputation}));for(var i=0;i<a.length;i++){a[i].satisfaction=[];for(var r=0;r<t.length;r++){var s=10-(a[i].impReputation-t[r].reputation);s>10&&(s=10),a[i].satisfaction.push({name:t[r].name,places:t[r].places,reputation:t[r].reputation,satisfaction:s})}}for(var c=0;c<a.length;c++)for(var l=0;l<a[c].satisfaction.length;l++)a[c].satisfaction[l].reputation<a[c].impReputation?a[c].satisfaction[l].selected=!0:10===a[c].satisfaction[l].satisfaction&&(a[c].satisfaction[l].selected="ten");for(var o=0;o<a.length;o++)for(var d=0;d<a[o].satisfaction.length;d++){if(!0===a[o].satisfaction[d].selected&&t[d].places>0){t[d].places-=1,n.push({trainerName:t[d].name,clientName:a[o].name,satisfaction:a[o].satisfaction[d].satisfaction});break}if("ten"===a[o].satisfaction[d].selected&&t[d].places>0){t[d].places-=1,n.push({trainerName:t[d].name,clientName:a[o].name,satisfaction:a[o].satisfaction[d].satisfaction});break}}for(var j=0,u=0;u<n.length;u++)j+=n[u].satisfaction;e.handleValoration(j,n);var b=e.trainersfiltered.map((function(e,a){return Object(f.jsx)(z,{trainer:e,clientstrainer:n,index:a+1},a)}));return Object(f.jsx)(E.a,{className:"cards mx-auto",children:b})},B=t(96);var H=function(e){var a=e.data.satisfaction.toFixed(1);return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(h.a,{children:[Object(f.jsxs)(O.a,{children:["Cliente: ",e.data.clientName]}),Object(f.jsxs)(O.a,{children:["Entrenador asignado: ",e.data.trainerName]}),Object(f.jsxs)(O.a,{children:["Satisfacci\xf3n cliente: ",a]})]})})};var L=function(e){var a=e.listFinalTrainers.map((function(e,a){return Object(f.jsx)(m.a.Item,{children:Object(f.jsx)(H,{data:e})},a)})),t=e.globalValoration.toFixed(1);return Object(f.jsxs)(l.a,{className:"valoration",children:[Object(f.jsx)("h3",{children:"Valoraci\xf3n global"}),Object(f.jsx)("h4",{children:t}),Object(f.jsx)(B.a,{className:"progressbar",now:t}),Object(f.jsx)("p",{className:"solutionText",children:"La valoraci\xf3n global corresponde a la media de los valores de satisfacci\xf3n de los clientes con sus entrenadores asignados."}),Object(f.jsxs)("p",{className:"solutionText",children:["Para llevar a cabo dicha asignaci\xf3n, se ha calculado previamente el valor de la satisfacci\xf3n de los clientes con cada uno de los entrenadores, con el fin de obtener la mayor satisfacci\xf3n posible. Para obtener el valor de satisfacci\xf3n de cada cliente con los diferentes entrenadores, se ha calculado la siguiente operaci\xf3n: 10 - (importancia de la reputaci\xf3n - reputaci\xf3n del entrenador). Obteniendo de esta manera un valor comprendido entre 0 y 10, siendo 0 la menor satisfacci\xf3n y 10 la mayor (los valores obtenidos por encima de 10 se toman como 10).",Object(f.jsxs)("p",{className:"solutionText",children:[Object(f.jsx)("br",{}),"A continuaci\xf3n se muestran el valor de satisfacci\xf3n de cada cliente con su entrenador asignado:"]})]}),Object(f.jsx)(m.a,{variant:"flush",children:a})]})};var P=function(e){var a,t=!1,i=JSON.parse(JSON.stringify(e.trainers)),r=JSON.parse(JSON.stringify(d)),c=Object(n.useState)(0),l=Object(s.a)(c,2),o=l[0],u=l[1],b=Object(n.useState)([]),m=Object(s.a)(b,2),p=m[0],x=m[1];!function(e){for(var a=0,n=0;n<e.length;n++)a+=e[n].places;t=a<r.length;var i=0;if(a>r.length&&(i=a-r.length),e.sort((function(e,a){return e.reputation-a.reputation})),i)for(var s=0;s<e.length;){if(e[s].places>i){e[s].places-=i;break}if(e[s].places===i){e.splice(s,1);break}e[s].places<i&&(i-=e[s].places,e.splice(s,1)),s=0}}(i),i.forEach((function(e){return e.reputation*=2}));var v=[];return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(h.a,{children:t?Object(f.jsx)("p",{className:"sufplaces",children:"No hay suficientes plazas para los clientes"}):Object(f.jsx)(O.a,{children:Object(f.jsxs)(J.a,{className:"results",defaultActiveKey:"results",id:"uncontrolled-tab-example",onSelect:function(){u(a),x(v)},children:[Object(f.jsx)(R.a,{eventKey:"results",title:"Entrenadores",children:Object(f.jsx)(I,{trainers:i,clients:r,trainersfiltered:e.trainers,handleValoration:function(e,t){a=e,v=t}})}),Object(f.jsx)(R.a,{eventKey:"satisfaction",title:"Valoraci\xf3n del conjunto",children:Object(f.jsx)(L,{globalValoration:o,listFinalTrainers:p})})]})})}),Object(f.jsx)(j.b,{to:"/",className:"btn-sm btn-primary float-right button",children:"Volver"})]})};var A=function(){var e=JSON.parse(JSON.stringify(o)),a=JSON.parse(JSON.stringify(d)),t=Object(n.useState)(e),i=Object(s.a)(t,2),r=i[0],j=i[1];return Object(f.jsx)(l.a,{fluid:!0,children:Object(f.jsxs)(c.c,{children:[Object(f.jsx)(c.a,{exact:!0,path:"/",children:Object(f.jsx)(F,{clients:a,shownTrainers:r,handleShownTrainers:function(a,t,n){if("name"===n)e[t].name=a;else if("reputation"===n){!isNaN(a)&&a||(a=0);var i=parseFloat(a);e[t].reputation=i}else if("places"===n){var r=parseInt(a);e[t].places=r}j(e)}})}),Object(f.jsx)(c.a,{path:"/results",children:Object(f.jsx)(P,{trainers:r})})]})})};t(80),t(81);r.a.render(Object(f.jsx)(j.a,{children:Object(f.jsx)(A,{})}),document.getElementById("root"))}},[[84,1,2]]]);
//# sourceMappingURL=main.cf7d736a.chunk.js.map